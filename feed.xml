<?xml version='1.0' encoding='UTF-8'?>
<rss version='2.0' xmlns:atom='http://www.w3.org/2005/Atom'>
<channel>
<atom:link href='http://firesofmay.github.io/' rel='self' type='application/rss+xml'/>
<title>
firesofmay
</title>
<link>
http://firesofmay.github.io/
</link>
<description>
Firesofmay's Blog
</description>
<lastBuildDate>
Tue, 25 Aug 2015 02:53:13 +0530
</lastBuildDate>
<generator>
clj-rss
</generator>
<item>
<guid>
http://firesofmay.github.io/posts/2015-08-26-setup-cryogen.html
</guid>
<link>
http://firesofmay.github.io/posts/2015-08-26-setup-cryogen.html
</link>
<title>
How to setup your own blog on Github using Cryogen
</title>
<description>
&lt;p&gt;For quite sometime I have been looking for a nice way to setup my blog. I have looked at various options but wasn't happy with any of them.&lt;/p&gt;&lt;h3&gt;&lt;a name=&quot;selection&amp;#95;criteria:&quot;&gt;&lt;/a&gt;Selection Criteria:&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;I should be able to edit it within Emacs/Another nice Markdown Editor.&lt;/li&gt;&lt;li&gt;It should be markdown based so I don't face weird editor issues.&lt;/li&gt;&lt;li&gt;Code highlighting should work for Clojure.&lt;/li&gt;&lt;li&gt;It should work on mobile/desktop nicely.&lt;/li&gt;&lt;li&gt;Tags should be available.&lt;/li&gt;&lt;li&gt;RSS feeds should work.&lt;/li&gt;&lt;li&gt;Preferably free and scales well.&lt;/li&gt;&lt;li&gt;Have some control on the setup but it should just work.&lt;/li&gt;&lt;li&gt;Should have an option to add comments.&lt;/li&gt;&lt;li&gt;It would be awesome if I can hack it if I need to.&lt;/li&gt;&lt;li&gt;I should be able to point it to my custom domain.&lt;/li&gt;&lt;li&gt;It should be under version control.&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;And I think finally &lt;a href='http://cryogenweb.org/'&gt;Cryogen&lt;/a&gt;/Github/Emacs/&lt;a href='macdown.uranusjr.com'&gt;MacDown&lt;/a&gt; has nailed it for me.&lt;/p&gt;&lt;p&gt;Even though the documentation is fairly good, I wasn't clear how to setup blog and repo together. I'll just assume you want to setup it as &lt;a href='username.github.io'&gt;username.github.io&lt;/a&gt;.&lt;/p&gt;&lt;p&gt;Before you move on, make sure you have checked out the &lt;a href='http://cryogenweb.org/docs/getting-started.html'&gt;actual documentation&lt;/a&gt; to get an idea of what we are going to do and if this setup is suitable for you or not.&lt;/p&gt;&lt;h3&gt;&lt;a name=&quot;setup&amp;#95;steps:&quot;&gt;&lt;/a&gt;Setup Steps:&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;Go to github and create one repo called &lt;code&gt;cryogen-blog&lt;/code&gt;.&lt;/li&gt;&lt;li&gt;Open up commandline, switch to your projects directory and run the following:&lt;/li&gt;&lt;/ul&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;$ lein new cryogen my-blog
&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;&lt;li&gt;Run the server so that it compiles any new changes&lt;/li&gt;&lt;/ul&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;$ lein ring server
&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;&lt;li&gt;Open another terminal&lt;/li&gt;&lt;li&gt;Switch to &lt;code&gt;my-blog&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;$ cd my-blog
&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;&lt;li&gt;Open resources/templates/config.edn and update the following values&lt;ul&gt;&lt;li&gt;:site-url &lt;code&gt;&amp;quot;http://username.github.io/&amp;quot;&lt;/code&gt;&lt;/li&gt;&lt;li&gt;:blog-prefix &lt;code&gt;&amp;quot;&amp;quot;&lt;/code&gt;&lt;/li&gt;&lt;li&gt;:site-title &lt;code&gt;&amp;quot;your site title&amp;quot;&lt;/code&gt;&lt;/li&gt;&lt;li&gt;:author &lt;code&gt;&amp;quot;@twitterhandle&amp;quot;&lt;/code&gt;&lt;/li&gt;&lt;li&gt;:description &lt;code&gt;&amp;quot;your description&amp;quot;&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;Make sure .gitignore has &lt;code&gt;/resources/public/&lt;/code&gt; in it.&lt;/li&gt;&lt;li&gt;Initialize your cryogen-blog by running the following in &lt;code&gt;my-blog&lt;/code&gt; directory&lt;/li&gt;&lt;/ul&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;$ git init
$ git commit -m &amp;quot;first commit&amp;quot;
$ git remote add origin git@github.com:&amp;lt;YOUR-USERNAME&amp;gt;/cryogen-blog.git
$ git push -u origin master
&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;&lt;li&gt;But this will only push a new repo, this does not create any blog.&lt;/li&gt;&lt;li&gt;To create the blog, go to github again &amp; create another repo with same name as your username, i.e. &lt;code&gt;username.github.io&lt;/code&gt;&lt;/li&gt;&lt;li&gt;Run&lt;/li&gt;&lt;/ul&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;$ cd my-blog/resources/public
$ git init
$ git add README.md
$ git commit -m &amp;quot;first commit&amp;quot;
$ git remote add origin git@github.com:&amp;lt;YOUR-USERNAME&amp;gt;/&amp;lt;YOUR-USERNAME&amp;gt;.github.io.git
$ git push -u origin master
&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;&lt;li&gt;And now check &lt;code&gt;YOUR-USERNAME.github.io&lt;/code&gt;, you should see your blog.&lt;/li&gt;&lt;li&gt;Check &lt;a href='http://cryogenweb.org/docs/writing-posts.html'&gt;this&lt;/a&gt; for how to write posts.&lt;/li&gt;&lt;li&gt;Then check &lt;code&gt;localhost:3000&lt;/code&gt; to make sure it all looks good.&lt;/li&gt;&lt;li&gt;To push new changes simply run the following (from &lt;code&gt;my-blog&lt;/code&gt; directory)&lt;/li&gt;&lt;/ul&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;$ git add . &amp;amp;&amp;amp; git commit -am &amp;quot;WIP&amp;quot; &amp;amp;&amp;amp; git push
$ cd resources/public &amp;amp;&amp;amp;  git add . &amp;amp;&amp;amp; git commit -am &amp;quot;WIP&amp;quot; &amp;amp;&amp;amp; git push &amp;amp;&amp;amp; cd ../../
&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;&lt;a name=&quot;automate&amp;#95;the&amp;#95;deployment&quot;&gt;&lt;/a&gt;Automate the deployment&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;You can make that as a command as well.&lt;/li&gt;&lt;li&gt;Create the following snippet as a command deploy.sh&lt;/li&gt;&lt;/ul&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;#!/bin/sh

echo &amp;quot;Deploying blog post&amp;quot;
git add .
git commit -am &amp;quot;WIP&amp;quot;
git push
cd resources/public &amp;amp;&amp;amp;  git add . &amp;amp;&amp;amp; git commit -am &amp;quot;WIP&amp;quot; &amp;amp;&amp;amp; git push &amp;amp;&amp;amp; cd ../../
open http://YOUR-USERNAME.github.io
&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;&lt;li&gt;Make it executable&lt;/li&gt;&lt;/ul&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;$ chmod +x deploy.sh
&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;&lt;li&gt;Make changes and deploy!&lt;/li&gt;&lt;/ul&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;$ ./deploy.sh
&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;&lt;a name=&quot;references:&quot;&gt;&lt;/a&gt;References:&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;Thanks to &lt;a href='https://github.com/tangrammer/cryogen-blog/blob/master/resources/templates/README.md#instructions-to-make-changes'&gt;tangrammer's instructions here&lt;/a&gt;&lt;/li&gt;&lt;li&gt;To setup custom domain name with namecheap check &lt;a href='http://davidensinger.com/2013/03/setting-the-dns-for-github-pages-on-namecheap/'&gt;this&lt;/a&gt; link&lt;/li&gt;&lt;li&gt;If you do add custom domain name make sure you add &lt;code&gt;CNAME&lt;/code&gt; to &lt;code&gt;:keep-files&lt;/code&gt; otherwise it'll get deleted.&lt;/li&gt;&lt;/ul&gt;
</description>
<pubDate>
Wed, 26 Aug 2015 00:00:00 +0530
</pubDate>
</item>
<item>
<guid>
http://firesofmay.github.io/posts/2012-12-15-vector-of-maps.html
</guid>
<link>
http://firesofmay.github.io/posts/2012-12-15-vector-of-maps.html
</link>
<title>
Manipulating vector of maps - Clojure
</title>
<description>
&lt;p&gt;So here is a vector of maps. Map contains name, age and school as keys. &lt;em&gt;Note&lt;/em&gt; that school is an optional key.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;&amp;#40;def student-grades &amp;#91;{:age 21, :name &amp;quot;Frank&amp;quot;, :school &amp;quot;ABC&amp;quot;}
                     {:age 23, :name &amp;quot;Shawn&amp;quot;}
                     {:age 11, :name &amp;quot;Eliot&amp;quot;, :school &amp;quot;XYZ&amp;quot;}&amp;#93;&amp;#41;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Now I would like to take that vector of maps and return the same name, increment the age and if school key is missing return &lt;code&gt;-&lt;/code&gt; as its value else return the school itself. So I write a function which take one map like that and de-structure its keys.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;&amp;#40;defn get-grades
  &amp;quot;This will take a map of name age school as keys and
   return a map of name, incremented age and
   if school is not given then '-'
   else the name of the school itself.&amp;quot;
  &amp;#91;{:keys &amp;#91;name age school&amp;#93;}&amp;#93;
  {:name name
   :age &amp;#40;inc age&amp;#41;
   :school &amp;#40;or school &amp;quot;-&amp;quot;&amp;#41;}&amp;#41;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;And now all I have to do is map that function onto that whole vector of maps and we get&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;clojure&quot;&gt;&amp;#40;map get-grades
     student-grades&amp;#41;
&amp;#40;{:name &amp;quot;Frank&amp;quot;, :age 22, :school &amp;quot;ABC&amp;quot;}
 {:name &amp;quot;Shawn&amp;quot;, :age 24, :school &amp;quot;-&amp;quot;}
 {:name &amp;quot;Eliot&amp;quot;, :age 12, :school &amp;quot;XYZ&amp;quot;}&amp;#41;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Notice age has been incremented, and if school is empty it is returning a &lt;code&gt;-&lt;/code&gt;&lt;/p&gt;
</description>
<pubDate>
Sat, 15 Dec 2012 00:00:00 +0530
</pubDate>
</item>
</channel>
</rss>
